<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>slackget10::Status - A class for returning a status code with its explanations</title>
<link rel="stylesheet" href="http://search.cpan.org/s/style.css" type="text/css" />
<link rev="made" href="mailto:root@midas.slackware.lan" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#version">VERSION</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#constructor">CONSTRUCTOR</a></li>
	<ul>

		<li><a href="#new">new</a></li>
	</ul>

	<li><a href="#functions">FUNCTIONS</a></li>
	<ul>

		<li><a href="#to_string">to_string</a></li>
		<li><a href="#to_int">to_int</a></li>
		<li><a href="#to_xml">to_XML</a></li>
		<li><a href="#to_html">to_HTML</a></li>
		<li><a href="#current">current</a></li>
	</ul>

	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#acknowledgements">ACKNOWLEDGEMENTS</a></li>
	<li><a href="#copyright___license">COPYRIGHT &amp; LICENSE</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>slackget10::Status - A class for returning a status code with its explanations</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="version">VERSION</a></h1>
<p>Version 1.0.0</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>This class is used at a status object which can tell more informations to user. In this object are stored couples of integer (the return code of the function which return the status object), and string (the human readable description of the error)</p>
<pre>
    use slackget10::Status;</pre>
<pre>
    my $status = slackget10::Status-&gt;new(
        codes =&gt; {
                0 =&gt; &quot;All operations goes well&quot;,
                1 =&gt; &quot;Parameters unexpected&quot;,
                2 =&gt; &quot;Network error&quot;
        }
    );
    print &quot;last error message was: &quot;,$status-&gt;to_string,&quot;\n&quot;;
    if($status-&gt;to_int == 2)
    {
        die &quot;A network error occured\n&quot;;
    }</pre>
<p>Please note that you must see at the documentation of a class to know the returned codes.</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="constructor">CONSTRUCTOR</a></h1>
<p>
</p>
<h2><a name="new">new</a></h2>
<p>You need to pass to the constructor a parameter 'codes' wich contain a hashref with number return code as keys and explanation strings as values :</p>
<pre>
        my $status = new slackget10::Status (
                codes =&gt; {
                        0 =&gt; &quot;All good\n&quot;,
                        1 =&gt; &quot;Network unreachable\n&quot;,
                        2 =&gt; &quot;Host unreachable\n&quot;,
                        3 =&gt; &quot;Remote file seems not exist\n&quot;
                }
        );</pre>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="functions">FUNCTIONS</a></h1>
<p>
</p>
<h2><a name="to_string">to_string</a></h2>
<p>Return the explanation string of the current status.</p>
<pre>
        if($connection-&gt;fetch_file($remote_file,$local_file) &gt; 0)
        {
                print &quot;ERROR : &quot;,$status-&gt;to_string ;
                return undef;
        }
        else
        {
                ...
        }</pre>
<p>
</p>
<h2><a name="to_int">to_int</a></h2>
<p>Same as to_string but return the code number.</p>
<p>
</p>
<h2><a name="to_xml">to_XML</a></h2>
<p>return an xml ecoded string, represented the current status. The XML string will be like that :</p>
<pre>
        &lt;status code=&quot;0&quot; description=&quot;All goes well&quot; /&gt;</pre>
<pre>
        $xml_file-&gt;Add($status-&gt;to_XML) ;</pre>
<p>
</p>
<h2><a name="to_html">to_HTML</a></h2>
<p>return the status as an HTML encoded string</p>
<p>
</p>
<h2><a name="current">current</a></h2>
<p>Called wihtout argument, just call to_int(), call with an integer argument, set the current status code to this int.</p>
<pre>
        my $code = $status-&gt;current ; # same effect as my $code = $status-&gt;to_int ;
        or
        $status-&gt;current(12);
        
Warning : call current() with a non-integer argument will fail ! The error code MUST BE AN INTEGER.</pre>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>DUPUIS Arnaud, <code>&lt;a.dupuis@infinityperl.org&gt;</code></p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>Please report any bugs or feature requests to
<code>bug-slackget10-networking@rt.cpan.org</code>, or through the web interface at
<a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=slackget10">http://rt.cpan.org/NoAuth/ReportBug.html</a>.
I will be notified, and then you'll automatically be notified of progress on
your bug as I make changes.</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="acknowledgements">ACKNOWLEDGEMENTS</a></h1>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="copyright___license">COPYRIGHT &amp; LICENSE</a></h1>
<p>Copyright 2005 DUPUIS Arnaud, All Rights Reserved.</p>
<p>This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p><a href="#__index__"><small>Top</small></a></p>

</body>

</html>
