<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>slackget10::Base - A module which centralize some base methods usefull to slack-get</title>
<link rel="stylesheet" href="http://search.cpan.org/s/style.css" type="text/css" />
<link rev="made" href="mailto:root@midas.slackware.lan" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#version">VERSION</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#constructor">CONSTRUCTOR</a></li>
	<ul>

		<li><a href="#new">new</a></li>
	</ul>

	<li><a href="#functions">FUNCTIONS</a></li>
	<ul>

		<li><a href="#ls">ls</a></li>
		<li><a href="#dir2files">dir2files</a></li>
		<li><a href="#compil_packages_directory">compil_packages_directory</a></li>
		<li><a href="#load_installed_list_from_xml_file">load_installed_list_from_xml_file</a></li>
		<li><a href="#load_packages_list_from_xml_file">load_packages_list_from_xml_file</a></li>
		<li><a href="#load_server_list_from_xml_file">load_server_list_from_xml_file</a></li>
		<li><a href="#set_include_file_list">set_include_file_list</a></li>
		<li><a href="#ldd">ldd</a></li>
	</ul>

	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#acknowledgements">ACKNOWLEDGEMENTS</a></li>
	<li><a href="#copyright___license">COPYRIGHT &amp; LICENSE</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>slackget10::Base - A module which centralize some base methods usefull to slack-get</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="version">VERSION</a></h1>
<p>Version 1.0.0</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>This module centralize bases tasks like package directory compilation, etc. This class is mainly designed to be a wrapper so it can change a lot before the release.</p>
<pre>
    use slackget10::Base;</pre>
<pre>
    my $base = slackget10::Base-&gt;new();
    my $packagelist = $base-&gt;compil_package_directory('/var/log/packages/');
    $packagelist = $base-&gt;load_list_from_xml_file('installed.xml');</pre>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="constructor">CONSTRUCTOR</a></h1>
<p>
</p>
<h2><a name="new">new</a></h2>
<p>Take no arguments.</p>
<pre>
        my $base = slackget10::Base-&gt;new();</pre>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="functions">FUNCTIONS</a></h1>
<p>
</p>
<h2><a name="ls">ls</a></h2>
<p>take a directory as argument and return an array wich contain all things in this directory.</p>
<pre>
        my @config_files = $base-&gt;ls('/etc/slack-get/') ;</pre>
<p>
</p>
<h2><a name="dir2files">dir2files</a></h2>
<p>take at leat one directory in argument and recursively follow all subdirectories. Return an array containing all files encounter but WITHOUT symblic links.</p>
<pre>
        my @config_files = $base-&gt;dir2files('/etc','/usr/local/etc', &quot;/$ENV{HOME}/etc/&quot;) ;</pre>
<p>
</p>
<h2><a name="compil_packages_directory">compil_packages_directory</a></h2>
<p>take a directory where are store installed packages files and return a slackget10::PackageList object</p>
<pre>
        my $packagelist = $base-&gt;compil_package_directory('/var/log/packages/');</pre>
<p>
</p>
<h2><a name="load_installed_list_from_xml_file">load_installed_list_from_xml_file</a></h2>
<p>Load the data for filling the list from an XML file. Return a slackget10::PackageList. This method is design for reading a installed.xml file.</p>
<pre>
        $packagelist = $base-&gt;load_installed_list_from_xml_file('installed.xml');</pre>
<p>
</p>
<h2><a name="load_packages_list_from_xml_file">load_packages_list_from_xml_file</a></h2>
<p>Load the data for filling the list from an XML file. Return a hashref built on this model :</p>
<pre>
        my $hashref = {
                'key' =&gt; slackget10::PackageList,
                ...
        };</pre>
<p>Ex:</p>
<pre>
        my $hashref = {
                'slackware' =&gt; blessed(slackget10::PackageList),
                'slacky' =&gt; blessed(slackget10::PackageList),
                'audioslack' =&gt; blessed(slackget10::PackageList),
                'linuxpackages' =&gt; blessed(slackget10::PackageList),
        };</pre>
<p>This method is design for reading a packages.xml file.</p>
<pre>
        $hashref = $base-&gt;load_packages_list_from_xml_file('packages.xml');</pre>
<p>
</p>
<h2><a name="load_server_list_from_xml_file">load_server_list_from_xml_file</a></h2>
<p>Load a server list from a servers.xml file.</p>
<pre>
        $serverlist = $base-&gt;load_server_list_from_xml_file('servers.xml');</pre>
<p>
</p>
<h2><a name="set_include_file_list">set_include_file_list</a></h2>
<p>By default the file list is not include in the installed.xml for some size consideration (on my system including the file list into installed.xml make him grow 28 times ! It passed from 400 KB to 11 MB),</p>
<p>So you can use this method to include the file list into installed.xml. BE carefull, to use it BEFORE <code>compil_packages_directory()</code> !</p>
<pre>
        $base-&gt;set_include_file_list();
        $packagelist = $base-&gt;compil_packages_directory();</pre>
<p>
</p>
<h2><a name="ldd">ldd</a></h2>
<p>Like the UNIX command ldd. Do a ldd system call on a list of files and return an array of dependencies.</p>
<pre>
        my @dependecies = $base-&gt;ldd('/usr/bin/gcc', '/usr/bin/perl', '/bin/awk') ;</pre>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>DUPUIS Arnaud, <code>&lt;a.dupuis@infinityperl.org&gt;</code></p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>Please report any bugs or feature requests to
<code>bug-slackget10-base@rt.cpan.org</code>, or through the web interface at
<a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=slackget10">http://rt.cpan.org/NoAuth/ReportBug.html</a>.
I will be notified, and then you'll automatically be notified of progress on
your bug as I make changes.</p>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="acknowledgements">ACKNOWLEDGEMENTS</a></h1>
<p>
<a href="#__index__"><small>Top</small></a>
</p>
<hr />
<h1><a name="copyright___license">COPYRIGHT &amp; LICENSE</a></h1>
<p>Copyright 2005 DUPUIS Arnaud, All Rights Reserved.

</p>
<p>This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.

</p>
<p><a href="#__index__"><small>Top</small></a></p>

</body>

</html>
